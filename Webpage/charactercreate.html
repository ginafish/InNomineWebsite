<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="home.css">
		<link rel="icon" href="favicon.png">
	
		<title>InNomine Character Creation</title>
	
		<script type="application/javascript">
			function updateRace(cbMembership){
				var raceElem = document.getElementById("race"); 
				/*var raceOptions = raceElem.children();*/
        		$(raceElem).each(function(){      /*Something really effed up is going on with the iteration here... it should be iterating through the children (the option elements) but it's not... it's like the selection element sets its value based on the option that is selected and doesn't actually treat them as child elements, sigh.  Might be better to go about this a different way....*/ 
					var curRace = this.value; 
          			if(!curRace.includes(cbMembership)){ 
            			$(this).attr("disabled", "disabled");
            			console.log("Disabled " + curRace); 
					} 
          			else{ 
						$(this).attr("disabled", "block");
						console.log("Enabled " + curRace); 
          			} 
				});
			}
		</script>
	</head>
	<body>
		<div class="container">
			
			<form action="charcreate.php" class="form-horizontal">
				<div class="row">
					
					<div class="col-md-3">
						<div class="form-group form-group-lg">
							<label class="control-label" for="charName">Character Name</label>
							<input type="text" class="form-control" id="charname" required="required">
						</div>
					</div>
					
					<div class="form-group form-group-lg">
						<div class="col-md-3">
							<select class="form-control" name="bandchoir" id="bandchoir" required="required" onchange="updateRace(this.value)">
								<option selected="selected" disabled="disabled" value="prompt">Choose band or choir</option>
								<option value="Band">Band</option>
								<option value="Choir">Choir</option>
							</select>
						</div>
					
						<div class="col-md-3">
							<select class="form-control" name="race" id="race" required="required">
								<option>Choose band or choir first.</option>
								
								<option selected="selected" disabled="disabled">Race</option>
								<option value="Choir - Seraphim">Seraphim</option>
								<option value="Choir - Cherium">Cherium</option>
								<option value="Choir - Malikem">Malikem</option>
								<option value="Band - Succubus">Incubus</option>
							</select>
						</div>
						
						<div class="col-md-2">
							<select class="form-control" name="superior" id="superior" required="required">
								<option selected="selected" disabled="disabled" value="prompt">Superior</option>
								<option value="Choir - Superior">Choir Superior</option>
								<option value="Band - Superior">Band Superior</option>
							</select>
						</div>
					</div>
					
				
				</div>
				
				<div class="row">
				
					<div class="col-md-4">
						<label class="control-label" for="corpforc">Corporeal Forces</label>
						<input type="range">
					</div>
					
				</div>
			</form>
			
		</div>
	</body>
</html>